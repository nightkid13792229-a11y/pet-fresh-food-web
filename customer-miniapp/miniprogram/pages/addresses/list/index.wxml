<view class="page">
  <view class="header">
    <text class="title">收货地址管理</text>
  </view>

  <view wx:if="{{loading}}" class="loading">
    <text>加载中...</text>
  </view>

  <view wx:if="{{error}}" class="error">
    <text>{{error}}</text>
  </view>

  <view wx:if="{{!loading && !error}}" class="address-list">
    <view wx:if="{{addresses.length}}">
      <view class="address-card" wx:for="{{addresses}}" wx:key="id">
        <view class="address-content">
          <view class="address-header">
            <text class="contact-name">{{item.contactName}}</text>
            <text class="contact-phone">{{item.contactPhone}}</text>
            <view wx:if="{{item.isDefault}}" class="default-tag">默认</view>
          </view>
          <view class="address-detail">
            <text wx:if="{{item.region}}">{{item.region}} </text>
            <text>{{item.detail}}</text>
          </view>
        </view>
        <view class="address-actions">
          <text class="action-btn" data-id="{{item.id}}" bindtap="handleEditAddress">编辑</text>
          <text wx:if="{{!item.isDefault}}" class="action-btn" data-id="{{item.id}}" bindtap="handleSetDefault">设为默认</text>
          <text class="action-btn delete" data-id="{{item.id}}" bindtap="handleDeleteAddress">删除</text>
        </view>
      </view>
    </view>
    <view wx:else class="empty">
      <text>暂无收货地址</text>
    </view>
  </view>

  <button class="fab-button" bindtap="handleAddAddress">
    <text>+ 新增地址</text>
  </button>
</view>


